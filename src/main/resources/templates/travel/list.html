<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê°€ê³„ë¶€ ëª©ë¡ - Retrip</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
    }

    .header {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .header h1 {
      font-size: 24px;
      margin-bottom: 10px;
    }

    .travel-card {
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 15px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.2s;
    }
    .travel-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }

    .card-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #007bff;
    }
    .card-info {
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
    }
    .card-amount {
      font-size: 18px;
      font-weight: bold;
      color: #28a745;
      margin-top: 10px;
    }

    .empty {
      text-align: center;
      padding: 60px 20px;
      background-color: white;
      border-radius: 10px;
    }

    .btn-group {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .btn {
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }
    .btn-edit {
      background-color: #007bff;
      color: white;
    }
    .btn-delete {
      background-color: #dc3545;
      color: white;
    }
  </style>
</head>
<body>
<div class="header">
  <h1>ğŸ  ê°€ê³„ë¶€ ëª©ë¡</h1>
  <p style="color: #666;">ê°€ê³„ë¶€ì—ì„œ ìƒì„±ëœ ì—¬í–‰ì„ ì„ íƒí•˜ì„¸ìš”</p>
</div>

<!-- ì—¬í–‰ ëª©ë¡ -->
<div th:if="${travels != null and !travels.empty}">
  <div th:each="travel : ${travels}" class="travel-card">
    <div th:onclick="'location.href=\'/travels/' + ${travel.travelId} + '\''">
      <div class="card-title" th:text="${travel.city + ', ' + travel.country}">íŒŒë¦¬, í”„ë‘ìŠ¤</div>
      <div class="card-info"
           th:text="'ê¸°ê°„: ' + ${#temporals.format(travel.startDate, 'yyyy-MM-dd')} + ' ~ ' + ${#temporals.format(travel.endDate, 'yyyy-MM-dd')}">
        ê¸°ê°„: 2024-05-01 ~ 2024-05-04
      </div>
      <div class="card-amount" th:text="'ì´ ì§€ì¶œ: ' + ${#numbers.formatInteger(travel.totalAmount, 0, 'COMMA')} + 'ì›'">
        ì´ ì§€ì¶œ: 1,250,000ì›
      </div>
      <div th:if="${travel.memo != null and !travel.memo.isBlank()}"
           class="card-info"
           style="margin-top: 10px; font-style: italic;"
           th:text="'ë©”ëª¨: ' + ${travel.memo}">
        ë©”ëª¨: ì¦ê±°ìš´ ì—¬í–‰ì´ì—ˆì–´ìš”
      </div>
    </div>

    <!-- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ -->
    <div class="btn-group" onclick="event.stopPropagation();">
      <button class="btn btn-edit"
              th:onclick="'location.href=\'/travels/' + ${travel.travelId} + '/edit\''">
        ìˆ˜ì •
      </button>
      <form th:action="@{/travels/{id}/delete(id=${travel.travelId})}"
            method="post"
            style="display: inline;"
            onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
        <button type="submit" class="btn btn-delete">ì‚­ì œ</button>
      </form>
    </div>
  </div>
</div>

<!-- ë¹ˆ ìƒíƒœ -->
<div th:if="${travels == null or travels.empty}" class="empty">
  <h2>ğŸ“­ ê°€ê³„ë¶€ê°€ ì—†ìŠµë‹ˆë‹¤</h2>
  <p>ê°€ê³„ë¶€ ì‹œìŠ¤í…œì—ì„œ ì˜ìˆ˜ì¦ì„ ì—…ë¡œë“œí•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
</div>
</body>
</html>