<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¢‹ì•„ìš” ë¦¬ìŠ¤íŠ¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background-color: #fff; min-height: 100vh; }
        .header { padding: 16px 20px; border-bottom: 1px solid #E8E5DC; display: flex; align-items: center; }
        .back-btn { background: none; border: none; cursor: pointer; color: #3D4A3C; padding: 8px; }
        .page-title-section { padding: 24px 20px 16px; }
        .page-title { font-size: 24px; font-weight: 700; color: #3D4A3C; }
        .posts-container { padding: 0 20px 20px; }
        .post-card {
            margin-bottom: 20px; border: 1px solid #E8E5DC; border-radius: 12px;
            overflow: hidden; background: #FEFDFB; cursor: pointer;
        }
        .post-image {
            width: 100%; aspect-ratio: 16/9; background: linear-gradient(135deg, #F5F3ED 0%, #EAE7DC 100%);
            display: flex; align-items: center; justify-content: center;
        }
        .post-info { padding: 16px; }
        .post-header { display: flex; justify-content: space-between; align-items: flex-start; }
        .post-title { font-size: 16px; font-weight: 600; color: #3D4A3C; }
        .like-btn { border: none; background: none; cursor: pointer; color: #9AE19C; }
        .post-author { display: flex; align-items: center; gap: 8px; color: #6FAF71; font-size: 14px; margin-top: 8px; }
        .empty-state { text-align: center; padding: 80px 20px; color: #A0A99D; }
    </style>
</head>
<body>

<header class="header">
    <button class="back-btn" onclick="location.href='/users/me'">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
    </button>
</header>

<section class="page-title-section">
    <h1 class="page-title">ì¢‹ì•„ìš” ë¦¬ìŠ¤íŠ¸</h1>
</section>

<main class="posts-container">
    <article class="post-card"
             th:each="post : ${likedPosts}"
             th:onclick="'location.href=\'/posts/' + ${post.postId} + '\''">
        <div class="post-image">
            <div class="image-placeholder">
                <svg width="48" height="48" fill="none" stroke="#D4E9D5" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
            </div>
        </div>
        <div class="post-info">
            <div class="post-header">
                <h3 class="post-title" th:text="${post.title}">ì œëª©</h3>
                <form th:action="@{/posts/{id}/unlike(id=${post.postId})}" method="post" style="margin: 0;">
                    <button type="submit" class="like-btn" onclick="event.stopPropagation();">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                        </svg>
                    </button>
                </form>
            </div>
            <div class="post-author">
                <span>ğŸ‘¤</span>
                <span th:text="${post.user != null ? post.user.name : 'ì•Œ ìˆ˜ ì—†ìŒ'}">ì‘ì„±ì</span>
            </div>
        </div>
    </article>

    <div th:if="${likedPosts == null or likedPosts.empty}" class="empty-state">
        <p>ì¢‹ì•„ìš”í•œ ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>
    </div>
</main>

</body>
</html>